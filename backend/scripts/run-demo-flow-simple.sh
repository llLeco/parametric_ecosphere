#!/bin/bash

echo "ğŸ­ Running Parametric Insurance Flow Demo..."
echo "=============================================="
echo ""

echo "âœ… 1. Sistema gera seguros e suas regras"
sleep 1

echo "âœ… 2. Contribuidores travam capital no pool"
sleep 1

echo "âœ… 3. Resseguradores assinam tratado de participaÃ§Ã£o"
sleep 1

echo "âœ… 4. Agricultor contrata o seguro"
sleep 1

echo "âœ… 5. Agricultor paga mensalmente 10k"
sleep 1

echo "âœ… 6. DistribuiÃ§Ã£o: 70% Pool, 25% Resseguradores, 5% Sistema"
sleep 1

echo "âœ… 7. Agricultor sofre catÃ¡strofe climÃ¡tica"
sleep 1

echo "âœ… 8. Oracle registra triggerEvent"
sleep 1

echo "âœ… 9. Pool paga 80k (stop-loss)"
sleep 1

echo "âœ… 10. Resseguradores pagam 20k restante"
sleep 1

echo ""
echo "ğŸ‰ Demo flow completed!"
echo ""
echo "ğŸ“Š Parametric Insurance Flow Summary:"
echo "====================================="
echo "ğŸ“‹ Policy Created: âœ…"
echo "ğŸ’° Pool Deposit: 500,000 tokens âœ…"
echo "ğŸ’³ Premium Paid: 10,000 tokens âœ…"
echo "ğŸŒ¡ï¸  Weather Event: Temperature > 35Â°C âœ…"
echo "ğŸ’¸ Pool Payout: 80,000 tokens (stop-loss) âœ…"
echo "ğŸ¤ Cession Request: 20,000 tokens excess âœ…"
echo "ğŸ’µ Cession Funding: 20,000 tokens from reinsurer âœ…"
echo "ğŸ¯ Final Payout: 20,000 tokens from cession âœ…"
echo ""
echo "ğŸ’° Total Payout: 100,000 tokens"
echo "   - Pool Contribution: 80,000 tokens (80%)"
echo "   - Reinsurer Contribution: 20,000 tokens (20%)"
echo ""
echo "ğŸ’³ Premium Distribution (10,000 tokens):"
echo "   - Pool Reserve: 7,000 tokens (70%)"
echo "   - Reinsurer: 2,500 tokens (25%)"
echo "   - System Fee: 500 tokens (5%)"
echo ""
echo "ğŸ¯ Flow completed successfully!"
